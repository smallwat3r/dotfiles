#!/usr/bin/env bash
# Open file(s) in emacsclient.
# Creates a new frame if none exists, otherwise reuses the current frame.
# Usage: ec [file...]
set -euo pipefail

if emacsclient -n -e '(> (length (frame-list)) 1)' 2>/dev/null | grep -q t; then
  emacsclient -n -a '' "$@"
else
  emacsclient -n -c -a '' "$@"
fi
