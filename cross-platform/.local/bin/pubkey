#!/usr/bin/env bash
# Copy your SSH public key to the clipboard.
# Supports macOS (pbcopy), Wayland (wl-copy), and X11 (xclip).
set -euo pipefail

key="$HOME/.ssh/id_rsa.pub"

[[ -f $key ]] || { echo "Public key not found: $key" >&2; exit 1; }

if [[ $OSTYPE == darwin* ]]; then
  pbcopy < "$key"
elif command -v wl-copy >/dev/null 2>&1; then
  wl-copy < "$key"
elif command -v xclip >/dev/null 2>&1; then
  xclip -selection clipboard < "$key"
else
  echo "No clipboard backend found" >&2
  exit 1
fi

echo "Public key copied to clipboard."
