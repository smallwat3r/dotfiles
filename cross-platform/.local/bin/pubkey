#!/usr/bin/env bash
# Copy public key to clipboard

copy_pubkey() {
    local key="$HOME/.ssh/id_rsa.pub"

    if [[ "$OSTYPE" == darwin* ]]; then
        pbcopy < "$key"
    elif command -v wl-copy >/dev/null 2>&1; then
        wl-copy < "$key"
    elif command -v xclip >/dev/null 2>&1; then
        xclip -selection clipboard < "$key"
    else
        echo 'No clipboard backend found' >&2
        return 1
    fi
    echo 'Public key copied to clipboard.'
}

copy_pubkey
