#!/usr/bin/env bash
# Inspect DNS records and connectivity for a given domain.
# Performs a DNS lookup and ping test.
# Usage: dns-inspect <domain>
set -euo pipefail

if [[ $# -ne 1 ]]; then
  echo "Usage: ${0##*/} <domain>" >&2
  exit 1
fi

domain=$1

echo "=== DNS Records ==="
ns=$(dig @8.8.8.8 "$domain" ns +short | head -n1)
dig @"$ns" "$domain" ANY +noall +answer

echo ""
echo "=== Ping Test ==="
ping -c3 "$domain"
