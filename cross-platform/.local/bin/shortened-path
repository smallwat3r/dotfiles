#!/usr/bin/env bash

shortened_path() {
  printf '%s\n' ~+ \
    | sed -e "s;$HOME;~;" \
          -e 's;\(/.\)[^/]*;\1;g' \
          -e 's/.$//'
}

current_dir() {
  printf '%s' "${PWD##*/}"
}

case $PWD in
  "$HOME")
    printf '~\n'
    ;;
  *)
    printf '%s%s\n' "$(shortened_path)" "$(current_dir)"
    ;;
esac
