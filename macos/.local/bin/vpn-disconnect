#!/usr/bin/env osascript
-- Disconnect from a VPN using Tunnelblick.
-- Usage: vpn-disconnect <config-name>

on run argv
  if (count of argv) is 0 then
    return "Usage: vpn-disconnect <config-name>"
  end if

  set configName to item 1 of argv

  tell application "Tunnelblick"
    try
      disconnect configName
      return "Disconnected from " & configName
    on error
      return "Error: VPN config '" & configName & "' not found"
    end try
  end tell
end run
