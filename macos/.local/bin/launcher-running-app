#!/usr/bin/env bash
# Switch to a running application using fzf.
set -euo pipefail

. "${HOME}/.local/lib/launcher.sh"

require fzf

apps=$(osascript -e 'tell application "System Events" to get name of every process whose visible is true')
target=$(tr ',' '\n' <<< "$apps" | sed 's/^ //' | fzf_pick) || exit 0
osascript -e "tell application \"$target\" to activate"
