#!/usr/bin/env bash
# Print a shortened version of the current working directory.
# Each parent directory is abbreviated to its first character.
# Example: /home/user/projects/myapp -> ~/p/myapp
# Useful for shell prompts.

if [[ $PWD == "$HOME" ]]; then
  echo "~"
  exit
fi

shortened=$(printf '%s\n' ~+ | sed -e "s;$HOME;~;" -e 's;\(/.\)[^/]*;\1;g' -e 's/.$//')
echo "${shortened}${PWD##*/}"
