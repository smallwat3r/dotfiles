# Key bindings

# General
bindsym $mod+Return exec $term
bindsym $mod+q kill
bindsym $mod+Shift+q [workspace=__focused__] kill
bindsym $mod+Shift+c reload
bindsym $mod+Shift+e exec swaynag -t warning -m 'Exit sway?' -B 'Yes' 'swaymsg exit'

# Custom launchers (height in pixels, width handled by Sway rule)
set $launcher footclient -s $XDG_RUNTIME_DIR/foot-launcher.sock --title=launcher
bindsym $mod+i exec $launcher -w 9999x200 ~/.local/bin/launcher-bin
bindsym $mod+e exec $launcher -w 9999x300 ~/.local/bin/launcher-bitwarden
bindsym $mod+u exec $launcher -w 9999x400 ~/.local/bin/launcher-browser-history
bindsym $mod+o exec $launcher -w 9999x400 ~/.local/bin/launcher-clipboard-history
bindsym $mod+w exec $launcher -w 9999x400 ~/.local/bin/launcher-ssh
bindsym $mod+comma exec $launcher -w 9999x400 ~/.local/bin/launcher-file-search
bindsym $mod+period exec $launcher -w 9999x200 ~/.local/bin/launcher-window
bindsym $mod+semicolon exec $launcher -w 9999x200 ~/.local/bin/launcher-yubikey-otp
bindsym $mod+d exec $launcher -w 9999x200 ~/.local/bin/launcher-emoji

# Focus
bindsym Ctrl+Shift+$mod+y focus left
bindsym Ctrl+Shift+$mod+n focus down
bindsym Ctrl+Shift+$mod+a focus up
bindsym Ctrl+Shift+$mod+e focus right
bindsym $mod+space focus mode_toggle
bindsym $mod+a focus parent
bindsym $mod+x [urgent=latest] focus

# Move window
bindsym Ctrl+$mod+y move left
bindsym Ctrl+$mod+n move down
bindsym Ctrl+$mod+a move up
bindsym Ctrl+$mod+e move right

# Workspaces
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10
bindsym $mod+Tab workspace next
bindsym $mod+Shift+Tab workspace prev

# Move container to workspace and follow
bindsym $mod+Shift+1 move container to workspace number 1; workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2; workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3; workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4; workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5; workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6; workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7; workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8; workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9; workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10; workspace number 10

# Layout
bindsym $mod+c floating toggle, resize set width 80 ppt height 80 ppt, move position center
bindsym $mod+b splith
bindsym $mod+v splitv
bindsym $mod+s layout stacking
bindsym $mod+t layout tabbed
bindsym $mod+p layout toggle split
bindsym $mod+f fullscreen
bindsym $mod+Shift+space floating toggle

# GNOME-style tiling
bindsym Ctrl+Shift+$mod+Left resize set width 50 ppt, move position 0 0
bindsym Ctrl+Shift+$mod+Right resize set width 50 ppt, move position 50 ppt 0
bindsym Ctrl+Shift+$mod+Up fullscreen toggle
bindsym Ctrl+Shift+$mod+Down floating toggle

# Move floating window to corners (1=TL, 2=BL, 3=TR, 4=BR)
bindsym $mod+Ctrl+1 exec ~/.local/bin/sway-corner 1
bindsym $mod+Ctrl+2 exec ~/.local/bin/sway-corner 2
bindsym $mod+Ctrl+3 exec ~/.local/bin/sway-corner 3
bindsym $mod+Ctrl+4 exec ~/.local/bin/sway-corner 4

# Scratchpad
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show


# Resize mode
mode "resize" {
    bindsym Left resize shrink width 25px
    bindsym Down resize grow height 25px
    bindsym Up resize shrink height 25px
    bindsym Right resize grow width 25px
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

# Mark mode
mode "mark" {
    bindsym a mark a, mode "default"
    bindsym b mark b, mode "default"
    bindsym c mark c, mode "default"
    bindsym d mark d, mode "default"
    bindsym e mark e, mode "default"
    bindsym u unmark, mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+m mode "mark"

# Goto mode
mode "goto" {
    bindsym a [con_mark="a"] focus, mode "default"
    bindsym b [con_mark="b"] focus, mode "default"
    bindsym c [con_mark="c"] focus, mode "default"
    bindsym d [con_mark="d"] focus, mode "default"
    bindsym e [con_mark="e"] focus, mode "default"
    bindsym s [con_mark="s"] focus, mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+apostrophe mode "goto"

# Session menu
set $session (l)ock, (e)xit, (r)eboot, (s)hutdown
mode "$session" {
    bindsym l exec swaylock, mode "default"
    bindsym e exec swaymsg exit, mode "default"
    bindsym r exec systemctl reboot, mode "default"
    bindsym s exec systemctl poweroff, mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+l mode "$session"
